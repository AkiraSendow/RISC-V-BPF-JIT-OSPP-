# RISCV BPF JIT支持扩展调研报告

> 本报告基于：
>
> [kernel mainline](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/?h=v6.12-rc1)、[RISC-V Instruction Set Manual](https://github.com/riscv/riscv-isa-manual/)
>
> 调研日期：2024.09.30

本报告将介绍目前在RISCV BPF JIT编译器中已支持的扩展情况

## 1、RV64I

1. 简介：

   RV64I 包含基本的整数运算指令集，如加减、逻辑运算（与、或、异或）、比较、移位（左移、右移）等；

   寄存器宽度为 64 位，能够处理 64 位的数据操作和地址空间

2. 支持情况：

   支持RV64I中所有指令

## 2、M扩展

1. 简介：

   M扩展提供了乘法、除法、求余运算指令

2. 支持情况：

   支持M扩展中的所有指令

## 3、A扩展

A扩展由 Zaamo 扩展和 Zalrsc 扩展组成

### 3.1 Zaamo扩展

1. 简介：

   Zaamo扩展提供了对内存中数据进行原子操作的指令，包括交换、加法、按位与、按位或、按位异或、计算最大/小值等

2. 支持情况：

   除了计算最大/小值指令，其他指令均已支持

### 3.2 Zalrsc扩展

1. 简介：

   Zalrsc扩展提供了

















